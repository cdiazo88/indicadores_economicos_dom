<!DOCTYPE html>
<html>
  <head>
    <title>Indicadores Economicos</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker3.css"/>
    <link rel="stylesheet" href="style.css">
  </head>
  <style>
  </style>
  <body class="custom-bg">
    <div class="container">
      <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">Indicadores Economicos</a>
          </div>
        </nav>
      </header>
      <main>
        <form>
            <div class="row" style="padding-top: 10%">
                <div class="col-lg-3">
                  <select class="form-select" aria-label="Default select example" id="selectorIndicador" onchange="cambioIndicador(value)">
                    <option selected>Seleccione indicador</option>
                  </select>
                </div>
                <div class="col-lg-3">
                  <select class="form-select" aria-label="Default select example" id="selectorAno" onchange="cambioAno(value)">
                    <option selected value="defecto">Seleccione a√±o</option>
                    <option value="2022">2022</option>
                    <option value="2021">2021</option>
                    <option value="2020">2020</option>
                    <option value="2019">2019</option>
                    <option value="2018">2018</option>
                  </select>
                </div>
                <div class="col-lg-3">
                  <div class="input-group date" id="datepicker">
                      <input type="datetime" class="form-control" id="selectorFecha" onchange="cambioFecha(value)" autocomplete="off">
                      <span class="input-group-append">
                        <span class="input-group-text bg-light d-block">
                          <i class="fa fa-calendar"></i>
                        </span>
                      </span>
                    </div>
                </div>
                <div class="col-lg-3">
                  <button type="button" class="btn btn-primary" style="width: 100%;" onclick="buscarDatos()" id="botonBuscar">Buscar</button>
                </div>
              </div>
        </form>
      </main>
      <section>
        <article>
            <div class="d-flex align-items-center" id="spinner" style="visibility: hidden !important; margin-top: 0;">
                <strong>Cargando...</strong>
                <div class="spinner-border ms-auto" role="status" aria-hidden="true"></div>
              </div>
        </article>
        <section style="margin-top: 3em">
            <div class="row featurette" style="display: none;"  id="sinRegistros">
                <hr class="featurette-divider">
                <div class="col-md-10">
                  <h2 class="featurette-heading fw-normal lh-1">Lo siento. <span class="text-body-secondary">no hemos encontrado registros para tu busqueda.</span></h2>
                  <p class="lead">Vuelve a intentarlo</p>
                </div>
              </div>
        </section>
        <section>
            <article>
                <div class="card" style="visibility: hidden;" id="cardIndicador">
                    <div class="card-body estilo-card">
                        <div class="row">
                            <div style="display: flex;">
                                <div>
                                    <i class="fa fa-dollar iconoMoneda"></i>
                                </div>
                                <div>
                                    <p class="card-title"><h4 id="tituloIndicador"></h4></p>
                                    <p class="card-text"><h5 id="valorIndicador"></h5></p>
                                    <p class="card-text"><h5 id="fechaIndicador"></h5></p>
                                </div>
                            </div>
                        </div>
                    </div>
                  </div>
              </article>
              <article>
                <div class="card" style="margin-top: 2em; visibility: hidden;" id="contenedorGrafico">
                    <div class="card-body">
                        <div class="chart-container">
                            <canvas id="indicador-chart"></canvas>
                        </div>
                    </div>
                  </div>
              </article>
              <article>
                <div class="card" style="margin-top: 2em; visibility: hidden;" id="contenedorTabla">
                    <div class="card-body">
                        <table class="table">
                            <thead>
                              <tr>
                                <th scope="col">Registro</th>
                                <th scope="col">Fecha</th>
                                <th scope="col">Valor</th>
                              </tr>
                            </thead>
                            <tbody id="tbodyTabla">
                            </tbody>
                          </table>
                    </div>
                  </div>
              </article>
        </section>
      </section>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/locales/bootstrap-datepicker.es.min.js" charset="UTF-8"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script>
        $(function () {
        $("#datepicker").datepicker({
            format: 'dd-mm-yyyy',
            language: 'es'
        });
    });
      </script>
    <script src="script.js"></script>
  </body>
</html>
